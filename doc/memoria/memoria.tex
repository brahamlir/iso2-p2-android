% -*- coding:utf-8 -*-
\documentclass[12 pt, a4paper, twoside]{article}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[spanish, activeacute]{babel}
\usepackage[pdftex, bookmarks, hyperfootnotes=false, colorlinks=true,%
            urlcolor=blue, linkcolor=black,  citecolor=black,%
            pagecolor=black, anchorcolor=black, breaklinks=true]{hyperref}
\usepackage{times}
\usepackage{eurosym}

\usepackage[pdftex]{graphicx}
%\usepackage{rotating}
\graphicspath{{img/}}

\usepackage{epstopdf}
\epstopdfsetup{outdir=img/,
  suffix=-generated}

\usepackage[pdftex]{color}
\definecolor{gray97}{gray}{.97}
\definecolor{gray75}{gray}{.75}
\definecolor{gray45}{gray}{.45}

\usepackage{listingsutf8}
\lstset{
  inputencoding = utf8/latin1,
                  %
                  frame = Ltb,
                  framerule = 0 pt,
                  aboveskip = 0.5 cm,
                  framextopmargin = 3 pt,
                  framexbottommargin = 3 pt,
                  framexleftmargin = 0.4 cm,
                  framesep = 0 pt,
                  rulesep = .4 pt,
                  backgroundcolor = \color{gray97},
                  rulesepcolor = \color{black},
                  %
                  stringstyle = \ttfamily,
                  showstringspaces  =  false,
                  basicstyle = \small\ttfamily,
                  commentstyle = \color{gray45},
                  keywordstyle = \bfseries,
                  %
                  numbers = left,
                  numbersep = 15 pt,
                  numberstyle = \tiny,
                  numberfirstline  =  false,
                  breaklines = true
}

\hypersetup{colorlinks = true, urlcolor = blue,
            pdftitle = Game Design Document,
            pdfsubject = Práctica de Ingeniería del Software II,
            pdfauthor = Varios}

\hoffset -0.54 cm
\voffset -0.54 cm
\textheight = 22 cm
\textwidth = 17 cm
\topmargin = 0 cm
\oddsidemargin = 0 cm
\evensidemargin = 0 cm
%\parindent = 0 cm
\parskip = 6 pt

\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf[EH,EF,OH,OF]{}
\fancyhf[OLH]{Práctica 2}
\fancyhf[ERH]{Ingeniería del Software 2011-12}
\fancyhf[ELH]{\thepage}
\fancyhf[ORH]{\thepage}

\pdfimageresolution = 300

\title{Práctica 2: \em Desarrollo de una aplicación en Android\\
Ingeniería del Software 2011-12}
\author{Manuel José Abaldea García-Pliego\\
Luis Miguel Garcia-Muñoz Pérez\\
Eduardo Monroy Martínez\\
Felipe Terriza García-Muñoz}
\date{}

\begin{document}

\input{portada}

\newpage{\pagestyle{empty}\cleardoublepage}

\tableofcontents

\newpage{\pagestyle{empty}\cleardoublepage}

\section{Sobre Android y las tecnologías utilizadas}
\subsection{Android}
\subsubsection{Estructura de la aplicación}
Aplicación = Manifiesto + Recursos + código
% AUMENTAR AQUÍ CON LO QUE HAGA FELIPE

\subsection{Andengine}
\subsubsection{Introducción}
Smartphones, videojuegos, Android; son palabras que están en pleno
auge. Los smartphones son cada vez más potentes, con pantallas cada
vez mayores y de mayor definición; de modo que podemos disfrutar en
ellos de contenidos audiovisuales más y más pujantes. Unido esto a
un sistema operativo multifunción y completamente escalable como es
Android, obtenemos un entorno atractivo, actual y prometedor. Si
dentro de este entorno nos centramos en los videojuegos, nos
encontramos con Andengine.

Andengine es un framework utilizado como motor de juegos para Android. En
realidad utiliza una implementación 2D de OpenGl. Su
finalidad, como la de todos los frameworks, es optimizar el
esfuerzo del desarrollador ofreciéndonos una buena base desde donde
comenzar a crear nuestra propia aplicación.

AndEndgine se distribuye bajo licencia LGPL. Al desarrollar bajo LGPL se tiene la opción de elegir si el
programa final se licenciará como GPL, LGPL u otras licencias no
libres.

Ventajas de LGPL
\begin{itemize}
\item Si en el desarrollo de un producto se utiliza código fuente
  licenciado bajo GPL o LGPL, no es obligatorio licenciar dicho
  producto final bajo dichas licencias.
\item LGPL es menos restrictiva que la licencia GPL, ya que sólo se
  ocupa en impedir el realizar versiones comerciales del producto
  licenciado bajo LGPL.
\item LGPL permite realizar versiones comerciales de un
  producto final que contenga como herramienta adicional un programa
  LGPL. Por lo tanto, LGPL puede ser utilizada o enlazada con software
  propietario.
\item LGPL exige registrar todos los cambios realizados por terceros,
  a manera de no afectar la reputación del autor original del
  software.
\end{itemize}
Desventajas de LGPL:
\begin{itemize}
\item Otras actividades que no sean copia, distribución o modificación
  no están cubiertas en esta licencia y están fuera de su alcance.
\end{itemize}

Las facilidades que ofrece AndEngine a la hora de desarrollar un
videojuego son de lo más completas, cuenta con:

\begin{itemize}
\item Motor. Es la pieza encargada de hacer que el juego
  funcione. Dispone de un hilo que refresca la ventana cada x
  milisegundos de tiempo. En cada tick se encarga de sincronizar los
  refrescos en pantalla y actualizar la escena.

\item Scene. La clase Scene es el contenedor de los Sprites que se
  deben visualizar en pantalla. Las escenas pueden tener capas
  (Layers) y entidades (Entities). Podemos encontrarnos también con
  sprites estáticos en la pantalla que servirán para visualizar menús,
  puntuaciones, energía, etc escenas compuestas por capas y entidades.

\item Texturas. Son imágenes en la memoria. Estas
  imágenes serán utilizadas para visualizar sprites o fondos. Por
  ello, en el momento de desarrollar siempre hay que tener en mente
  que por una parte se gestiona la información lógica de los objetos y
  por otra parte el aspecto visual que tiene o la textura.

\item Sprites. Son los objetos que se visualizan en el
  juego y en la mayoría de los casos son interactivos o
  animados. Existen varios tipos de sprites: titles en el que el juego
  tiene forma matricial, animados en los que el sprite dispondrá de
  varias imágenes o fotogramas o de background que se utilizarán para
  pintar fondos.

\item Física, motor físico del juego.
\item Detección de colisiones.
\item Música y efectos de sonido.También es posible reproducir
  ficheros de tipo sonido. Los formatos que es capaz de soportar son:
  AAC, MP3, Ogg, MIDI y WAV. Sin embargo, mediante una expansión es
  posible reproducir formatos de tipo trackers: MOD, S3M, IT, etc.
  Igualmente, es posible controlar características y eventos de la
  reproducción como subir y bajar el volumen, repetir el sonido,
  conocer si se está reproduciendo, situarse en una posición concreta
  del audio y algunas funciones más.

\end{itemize}

\subsubsection{Conceptos básicos}
A continuación describimos unos conceptos básicos necesarios para la
mejor comprensión del funcionamiento y desarrollo con AndEngine.

\begin{itemize}
\item \textbf{BaseGameActivity:} El BaseGameActivity es la raiz del
  juego, que contiene el motor y crea la vista donde se va a dibujar
  todo. Hay siempre exactamente un solo Engine por cada
  BaseGameActivity.
\item \textbf{Engine:} El Engine es el motor interno del juego, se
  encarga de ir dibujando en pantalla y actualizando objetos en la
  escena, que contiene todo el contenido que tu juego
  lleva. Normalmente hay una escena por por Engine, a menos que vayas
  a usar un SplitScreenEngines.
\item \textbf{IResolutionPolicy:} Una implementacion de
  IResolutionPolicy interface es parte del EngineOptions. Te hace
  abstraerte de la resolución del terminal, tú trabajas para una
  resolución y el AndEngine se encarga del resto.
\item \textbf{Camera:} Un objeto Camera define el rectangulo visible
  actualmente de la escena actual, no tiene porqué ser la escena
  completa. Normalmente hay una cámara por escena. Hay subclases
  específicas que permiten hacer zoom y mover la cámara suavemente.
\item \textbf{Scene:} La clase Scene es el contenedor para todos los
  objetos que se van a dibujar en la escena. Una escena puede tener
  Layers, que son capas para ordenar objetos. Hay subclases de la
  Scene como CameraScene/HUD/MenuScene que tienen comportamientos
  específicos.
\item \textbf{Entity:} Una entidad es un objeto que puede ser
  dibujado, como Imagenes, rectángulos, Texto, Líneas. Una entidad
  tiene posición/rotación/zoom/color...
\item \textbf{Texture:} Una textura es una imagen que se guarda en
  memoria. En Android, las imágenes deben ser una potencia de 2.
\item \textbf{ITextureSource:} Una implementacion de
  ITextureSource-interface se encarga de cargar una imagen en una
  posición en la textura.
\item \textbf{TextureRegion:} Una TextureRegion define un rectangulo
  en una imagen. Las TextureRegion se usan por Sprites para usar una
  imagen grande en la que guardamos muchas imagenes pequeñicas.
\item \textbf{PhysicsConnector:} Motor de físicas integrado en el Engine
\end{itemize}

%integración en el entorno de desarrollo


\section{Desarrollo realizado}
\section{Diseño del juego.}

El juego consistirá en el recorrido de un personaje el cual representa a un
alumno de Informática. Este se desplaza corriendo a través del escenario, que
representa la {\em carrera} que está haciendo. A lo largo de su recorrido
deberá recolectar créditos ECTS (representados por libros para estudiar y otros
útiles escolares) y también se encontrará con obstáculos que tendrá que
esquivar saltando o agachándose, dependiendo del obstáculo.

El estilo de juego es muy parecido a otros juegos como {\em Line Runner} o {\em
BIT.TRIP RUNNER}.

\clearpage

\subsection{Características.}

\begin{itemize}

  \item {\bf Genero.}

    Plataformas/casual.

  \item {\bf Jugadores.}

    El juego es para un jugador por dispositivo y sin juego en red.

  \item {\bf Historia.}

    El personaje debe conseguir el máximo de créditos posible para terminar su
    carrera satisfactoriamente y encontrar un trabajo decente en alguna
    factoría de software.

  %\input{bocetos}
  %\input{lookandfeel}

  \item {\bf Interfaz.}

    La interacción con el jugador se realiza a través de dos botones que
    aparecen en la pantalla: uno para saltar y otro para agacharse.

  \item {\bf Objetivos.}

    El jugador deberá ganar el máximo de créditos posible. No hay un final
    definido, es una metáfora sobre lo interminable que se hace la carrera. Se
    plantea poder subir los créditos a un servidor, para poder competir con
    otros jugadores.

  \item {\bf Reglas.}

    Simplemente hay que esquivar los obstáculos o bien saltando o bien
    agachándose. También hay intentar coger los objetos que aportan créditos.

  %\input{características}

  \item {\bf Gameplay.}

    El juego es de naturaleza casual, con una interacción sencilla con el
    usuario.

  \item {\bf Diseño de niveles.}

    El escenario se genera aleatoriamente a media que el personaje avanza. Se
    plantea también aumentar la complejidad según la puntuación alcanzada.

  \item {\bf Requerimientos técnicos.}

    Cualquier dispositivo con sistema operativo Android.

\end{itemize}

\section{Marketing.}

Principalmente, se hará publicidad a través de las redes sociales (facebook,
tuenti, twitter, ...). Se plantea tambien ofrecer ofertas (mitad de precio,
gratis durante unas horas, ...) y anunciarlo a través de otros hipotéticos
juegos hechos por la empresa.

\clearpage

\section{Diagramas.}

\subsection{Casos de uso.}

\begin{figure}[h]
\centering
\includegraphics[width = 10 cm]{casos_de_uso_(menu).eps}
\caption{Menú.}
\end{figure}

\begin{figure}[h]
\centering
\includegraphics[width = 10 cm]{casos_de_uso_(juego).eps}
\caption{Juego.}
\end{figure}

\clearpage

\input{presupuesto}

\section{Trabajo pendiente.}

Finalizar el juego añadiendo los elementos que faltan:

\begin{itemize}
  \item Menú.
  \item Cambio del sprite del jugador.
  \item Si da tiempo, añadir sonido.
\end{itemize}

Añadir a este documento los diagramas que faltan.





\section{fuentes}
http://droideando.blogspot.com.es/2011/03/introduccion-andengine-parte-i.html

\end{document}
